<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/marcuswestin/store.js#readme">store (v2.0.4)</a>
</h1>
<h4>A localStorage wrapper for all browsers without using cookies or flash. Uses localStorage, globalStorage, and userData behavior under the hood</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.store">module store</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">store.</span>enabled</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.addPlugin">
            function <span class="apidocSignatureSpan">store.</span>addPlugin
            <span class="apidocSignatureSpan">(plugin)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.addStorage">
            function <span class="apidocSignatureSpan">store.</span>addStorage
            <span class="apidocSignatureSpan">(storage)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.clearAll">
            function <span class="apidocSignatureSpan">store.</span>clearAll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.createStore">
            function <span class="apidocSignatureSpan">store.</span>createStore
            <span class="apidocSignatureSpan">(storages, plugins)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.each">
            function <span class="apidocSignatureSpan">store.</span>each
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.get">
            function <span class="apidocSignatureSpan">store.</span>get
            <span class="apidocSignatureSpan">(key, optionalDefaultValue)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.hasNamespace">
            function <span class="apidocSignatureSpan">store.</span>hasNamespace
            <span class="apidocSignatureSpan">(namespace)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.namespace">
            function <span class="apidocSignatureSpan">store.</span>namespace
            <span class="apidocSignatureSpan">(namespace)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.remove">
            function <span class="apidocSignatureSpan">store.</span>remove
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.set">
            function <span class="apidocSignatureSpan">store.</span>set
            <span class="apidocSignatureSpan">(key, value)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>all</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>cookieStorage</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>localStorage</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>memoryStorage</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>observe</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>oldFF_globalStorage</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>oldIE_userDataStorage</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>operations</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>sessionStorage</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>store_engine</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>util</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.</span>v1_backcompat</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">store.</span>storage</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">store.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.all">module store.all</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.all.defaults">
            function <span class="apidocSignatureSpan">store.all.</span>defaults
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.all.dump">
            function <span class="apidocSignatureSpan">store.all.</span>dump
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.all.events">
            function <span class="apidocSignatureSpan">store.all.</span>events
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.all.expire">
            function <span class="apidocSignatureSpan">store.all.</span>expire
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.all.json2">
            function <span class="apidocSignatureSpan">store.all.</span>json2
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.all.update">
            function <span class="apidocSignatureSpan">store.all.</span>update
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.all.</span>observe</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.all.</span>operations</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.all.</span>v1-backcompat</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.cookieStorage">module store.cookieStorage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.cookieStorage.clearAll">
            function <span class="apidocSignatureSpan">store.cookieStorage.</span>clearAll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.cookieStorage.each">
            function <span class="apidocSignatureSpan">store.cookieStorage.</span>each
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.cookieStorage.read">
            function <span class="apidocSignatureSpan">store.cookieStorage.</span>read
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.cookieStorage.remove">
            function <span class="apidocSignatureSpan">store.cookieStorage.</span>remove
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.cookieStorage.write">
            function <span class="apidocSignatureSpan">store.cookieStorage.</span>write
            <span class="apidocSignatureSpan">(key, data)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">store.cookieStorage.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.localStorage">module store.localStorage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.localStorage.clearAll">
            function <span class="apidocSignatureSpan">store.localStorage.</span>clearAll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.localStorage.each">
            function <span class="apidocSignatureSpan">store.localStorage.</span>each
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.localStorage.read">
            function <span class="apidocSignatureSpan">store.localStorage.</span>read
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.localStorage.remove">
            function <span class="apidocSignatureSpan">store.localStorage.</span>remove
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.localStorage.write">
            function <span class="apidocSignatureSpan">store.localStorage.</span>write
            <span class="apidocSignatureSpan">(key, data)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">store.localStorage.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.memoryStorage">module store.memoryStorage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.memoryStorage.clearAll">
            function <span class="apidocSignatureSpan">store.memoryStorage.</span>clearAll
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.memoryStorage.each">
            function <span class="apidocSignatureSpan">store.memoryStorage.</span>each
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.memoryStorage.read">
            function <span class="apidocSignatureSpan">store.memoryStorage.</span>read
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.memoryStorage.remove">
            function <span class="apidocSignatureSpan">store.memoryStorage.</span>remove
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.memoryStorage.write">
            function <span class="apidocSignatureSpan">store.memoryStorage.</span>write
            <span class="apidocSignatureSpan">(key, data)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">store.memoryStorage.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.observe">module store.observe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.observe.0">
            function <span class="apidocSignatureSpan">store.observe.</span>0
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.observe.1">
            function <span class="apidocSignatureSpan">store.observe.</span>1
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.oldFF_globalStorage">module store.oldFF_globalStorage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.oldFF_globalStorage.clearAll">
            function <span class="apidocSignatureSpan">store.oldFF_globalStorage.</span>clearAll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.oldFF_globalStorage.each">
            function <span class="apidocSignatureSpan">store.oldFF_globalStorage.</span>each
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.oldFF_globalStorage.read">
            function <span class="apidocSignatureSpan">store.oldFF_globalStorage.</span>read
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.oldFF_globalStorage.remove">
            function <span class="apidocSignatureSpan">store.oldFF_globalStorage.</span>remove
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.oldFF_globalStorage.write">
            function <span class="apidocSignatureSpan">store.oldFF_globalStorage.</span>write
            <span class="apidocSignatureSpan">(key, data)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">store.oldFF_globalStorage.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.oldIE_userDataStorage">module store.oldIE_userDataStorage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.oldIE_userDataStorage.clearAll">
            function <span class="apidocSignatureSpan">store.oldIE_userDataStorage.</span>clearAll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.oldIE_userDataStorage.each">
            function <span class="apidocSignatureSpan">store.oldIE_userDataStorage.</span>each
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.oldIE_userDataStorage.read">
            function <span class="apidocSignatureSpan">store.oldIE_userDataStorage.</span>read
            <span class="apidocSignatureSpan">(unfixedKey)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.oldIE_userDataStorage.remove">
            function <span class="apidocSignatureSpan">store.oldIE_userDataStorage.</span>remove
            <span class="apidocSignatureSpan">(unfixedKey)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.oldIE_userDataStorage.write">
            function <span class="apidocSignatureSpan">store.oldIE_userDataStorage.</span>write
            <span class="apidocSignatureSpan">(unfixedKey, data)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">store.oldIE_userDataStorage.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.operations">module store.operations</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.operations.0">
            function <span class="apidocSignatureSpan">store.operations.</span>0
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.operations.1">
            function <span class="apidocSignatureSpan">store.operations.</span>1
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.sessionStorage">module store.sessionStorage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.sessionStorage.clearAll">
            function <span class="apidocSignatureSpan">store.sessionStorage.</span>clearAll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.sessionStorage.each">
            function <span class="apidocSignatureSpan">store.sessionStorage.</span>each
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.sessionStorage.read">
            function <span class="apidocSignatureSpan">store.sessionStorage.</span>read
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.sessionStorage.remove">
            function <span class="apidocSignatureSpan">store.sessionStorage.</span>remove
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.sessionStorage.write">
            function <span class="apidocSignatureSpan">store.sessionStorage.</span>write
            <span class="apidocSignatureSpan">(key, data)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">store.sessionStorage.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.store_engine">module store.store_engine</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.store_engine.createStore">
            function <span class="apidocSignatureSpan">store.store_engine.</span>createStore
            <span class="apidocSignatureSpan">(storages, plugins)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.util">module store.util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.util.assign">
            function <span class="apidocSignatureSpan">store.util.</span>assign
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.util.bind">
            function <span class="apidocSignatureSpan">store.util.</span>bind
            <span class="apidocSignatureSpan">(obj, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.util.create">
            function <span class="apidocSignatureSpan">store.util.</span>create
            <span class="apidocSignatureSpan">(obj, assignProps1, assignProps2, etc)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.util.each">
            function <span class="apidocSignatureSpan">store.util.</span>each
            <span class="apidocSignatureSpan">(obj, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.util.isFunction">
            function <span class="apidocSignatureSpan">store.util.</span>isFunction
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.util.isList">
            function <span class="apidocSignatureSpan">store.util.</span>isList
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.util.isObject">
            function <span class="apidocSignatureSpan">store.util.</span>isObject
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.util.map">
            function <span class="apidocSignatureSpan">store.util.</span>map
            <span class="apidocSignatureSpan">(obj, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.util.pluck">
            function <span class="apidocSignatureSpan">store.util.</span>pluck
            <span class="apidocSignatureSpan">(obj, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.util.slice">
            function <span class="apidocSignatureSpan">store.util.</span>slice
            <span class="apidocSignatureSpan">(arr, index)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.util.trim">
            function <span class="apidocSignatureSpan">store.util.</span>trim
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">store.util.</span>Global</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.store.v1_backcompat">module store.v1_backcompat</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.v1_backcompat.0">
            function <span class="apidocSignatureSpan">store.v1_backcompat.</span>0
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.v1_backcompat.1">
            function <span class="apidocSignatureSpan">store.v1_backcompat.</span>1
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.store.v1_backcompat.2">
            function <span class="apidocSignatureSpan">store.v1_backcompat.</span>2
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store" id="apidoc.module.store">module store</a></h1>




    <h2>
        <a href="#apidoc.element.store.addPlugin" id="apidoc.element.store.addPlugin">
        function <span class="apidocSignatureSpan">store.</span>addPlugin
        <span class="apidocSignatureSpan">(plugin)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addPlugin = function (plugin) {
		var self = this

		// If the plugin is an array, then add all plugins in the array.
		// This allows for a plugin to depend on other plugins.
		if (isList(plugin)) {
			each(plugin, function(plugin) {
				self.addPlugin(plugin)
			})
			return
		}

		// Keep track of all plugins we've seen so far, so that we
		// don't add any of them twice.
		var seenPlugin = pluck(this._seenPlugins, function(seenPlugin) { return (plugin === seenPlugin) })
		if (seenPlugin) {
			return
		}
		this._seenPlugins.push(plugin)

		// Check that the plugin is properly formed
		if (!isFunction(plugin)) {
			throw new Error('Plugins must be function values that return objects')
		}

		var pluginProperties = plugin.call(this)
		if (!isObject(pluginProperties)) {
			throw new Error('Plugins must return an object of function properties')
		}

		// Add the plugin function properties to this store instance.
		each(pluginProperties, function(pluginFnProp, propName) {
			if (!isFunction(pluginFnProp)) {
				throw new Error('Bad plugin property: '+propName+' from plugin '+plugin.name+'. Plugins should only return functions.')
			}
			self._assignPluginFnProp(pluginFnProp, propName)
		})
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### Using Plugins

With npm:

```js
// Example plugin usage:
var expirePlugin = require('store/plugins/expire')
store.<span class="apidocCodeKeywordSpan">addPlugin</span>(expirePlugin)
```

If you're using script tags, you can either use [store.everything.min.js](dist/store.everything.min.js) (which
has all plugins built-in), or clone this repo to add or modify a build and run `make build`.

### Write your own plugin
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.addStorage" id="apidoc.element.store.addStorage">
        function <span class="apidocSignatureSpan">store.</span>addStorage
        <span class="apidocSignatureSpan">(storage)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addStorage = function (storage) {
		if (this.enabled) { return }
		if (this._testStorage(storage)) {
			this._storage.resolved = storage
			this.enabled = true
			this.storage = storage.name
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	name: 'myStorage',
	read: function(key) { ... },
	write: function(key, value) { ... },
	each: function(fn) { ... },
	remove: function(key) { ... },
	clearAll: function() { ... }
}
store.<span class="apidocCodeKeywordSpan">addStorage</span>(storage)
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.clearAll" id="apidoc.element.store.clearAll">
        function <span class="apidocSignatureSpan">store.</span>clearAll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearAll = function () {
		this._storage().clearAll()
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Get current user
store.get('user')

// Remove current user
store.remove('user')

// Clear all keys
store.<span class="apidocCodeKeywordSpan">clearAll</span>()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
})
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.createStore" id="apidoc.element.store.createStore">
        function <span class="apidocSignatureSpan">store.</span>createStore
        <span class="apidocSignatureSpan">(storages, plugins)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createStore = function (storages, plugins) {
		return createStore(storages, plugins)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	require('store/storages/localStorage'),
	require('store/storages/cookieStorage')
]
var plugins = [
	require('store/plugins/defaults'),
	require('store/plugins/expire')
]
var store = engine.<span class="apidocCodeKeywordSpan">createStore</span>(storages, plugins)
store.set('foo', 'bar', new Date().getTime() + 3000) // Using expire plugin to expire in 3 seconds
```




Storages
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.each" id="apidoc.element.store.each">
        function <span class="apidocSignatureSpan">store.</span>each
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">each = function (callback) {
		var self = this
		this._storage().each(function(val, namespacedKey) {
			callback(self._deserialize(val), namespacedKey.replace(self._namespaceRegexp, ''))
		})
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Remove current user
store.remove('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.<span class="apidocCodeKeywordSpan">each</span>(function(value, key) {
	console.log(key, '==', value)
})
```

### Installation

Using npm:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.get" id="apidoc.element.store.get">
        function <span class="apidocSignatureSpan">store.</span>get
        <span class="apidocSignatureSpan">(key, optionalDefaultValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (key, optionalDefaultValue) {
		var data = this._storage().read(this._namespacePrefix + key)
		return this._deserialize(data, optionalDefaultValue)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
&lt;script&gt;
	init()
	function init() {
		if (!store.enabled) {
			alert('Local storage is not supported by your browser. Please disable "Private Mode", or upgrade to a modern browser
.')
			return
		}
		var user = store.<span class="apidocCodeKeywordSpan">get</span>('user')
		// ... and so on ...
	}
&lt;/script&gt;
```

LocalStorage may sometimes appear to be available but throw an error when used. An example is Safari's private browsing mode
. Other browsers allow the user to temporarily disable localStorage. Store.js detects these conditions and sets the `store.enabled
` flag appropriately.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.hasNamespace" id="apidoc.element.store.hasNamespace">
        function <span class="apidocSignatureSpan">store.</span>hasNamespace
        <span class="apidocSignatureSpan">(namespace)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasNamespace = function (namespace) {
		return (this._namespacePrefix == '__storejs_'+namespace+'_')
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	return {
		set: expire_set,
		get: expire_get,
		remove: expire_remove
	}
	
	function expire_set(super_fn, key, val, expiration) {
		if (!this.<span class="apidocCodeKeywordSpan">hasNamespace</span>(namespace)) {
			expirations.set(key, expiration)
		}
		return super_fn()
	}
	
	function expire_get(super_fn, key) {
		if (!this.hasNamespace(namespace)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.namespace" id="apidoc.element.store.namespace">
        function <span class="apidocSignatureSpan">store.</span>namespace
        <span class="apidocSignatureSpan">(namespace)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">namespace = function (namespace) {
		if (!this._legalNamespace.test(namespace)) {
			throw new Error('store.js namespaces can only have alhpanumerics + underscores and dashes')
		}
		// create a prefix that is very unlikely to collide with un-namespaced keys
		var namespacePrefix = '__storejs_'+namespace+'_'
		return create(this, {
			_namespacePrefix: namespacePrefix,
			_namespaceRegexp: namespacePrefix ? new RegExp('^'+namespacePrefix) : null
		})
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
A store.js plugin is a function that returns an object that gets added to the store.
If any of the plugin functions overrides existing functions, the plugin function can still call
the original function using the first argument (super_fn).

```js
// Example plugin that stores a version history of every value
var versionHistoryPlugin = function() {
	var historyStore = this.<span class="apidocCodeKeywordSpan">namespace</span>('history')
	return {
		set: function(super_fn, key, value) {
			var history = historyStore.get(key) || []
			history.push(value)
			historyStore.set(key, history)
			return super_fn()
		},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.remove" id="apidoc.element.store.remove">
        function <span class="apidocSignatureSpan">store.</span>remove
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (key) {
		this._storage().remove(this._namespacePrefix + key)
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Store current user
store.set('user', { name:'Marcus' })

// Get current user
store.get('user')

// Remove current user
store.<span class="apidocCodeKeywordSpan">remove</span>('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.set" id="apidoc.element.store.set">
        function <span class="apidocSignatureSpan">store.</span>set
        <span class="apidocSignatureSpan">(key, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function (key, value) {
		if (value === undefined) {
			return this.remove(key)
		}
		this._storage().write(this._namespacePrefix + key, this._serialize(value))
		return value
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
In node.js
----------
store.js works as expected in node.js, assuming that global.localStorage has been set:

```
global.localStorage = require('localStorage')
var store = require('./store')
store.<span class="apidocCodeKeywordSpan">set</span>('foo', 1)
console.log(store.get('foo'))
```


Supported browsers
------------------
- Tested in iOS 4+
...</pre></li>
    </ul>






























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.all" id="apidoc.module.store.all">module store.all</a></h1>


    <h2>
        <a href="#apidoc.element.store.all.defaults" id="apidoc.element.store.all.defaults">
        function <span class="apidocSignatureSpan">store.all.</span>defaults
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defaultsPlugin() {
	var defaultValues = {}
	
	return {
		defaults: defaults,
		get: get
	}
	
	function defaults(_, values) {
		defaultValues = values
	}
	
	function get(super_fn, key) {
		var val = super_fn()
		return (val !== undefined ? val : defaultValues[key])
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.all.dump" id="apidoc.element.store.all.dump">
        function <span class="apidocSignatureSpan">store.all.</span>dump
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function dumpPlugin() {
	return {
		dump: dump
	}
	
	function dump(_) {
		var res = {}
		this.each(function(val, key) {
			res[key] = val
		})
		return res
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.all.events" id="apidoc.element.store.all.events">
        function <span class="apidocSignatureSpan">store.all.</span>events
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function eventsPlugin() {
	var pubsub = _newPubSub()

	return {
		watch: watch,
		unwatch: unwatch,
		once: once,

		set: set,
		remove: remove,
		clearAll: clearAll
	}

	// new pubsub functions
	function watch(_, key, listener) {
		return pubsub.on(key, bind(this, listener))
	}
	function unwatch(_, subId) {
		pubsub.off(subId)
	}
	function once(_, key, listener) {
		pubsub.once(key, bind(this, listener))
	}

	// overwrite function to fire when appropriate
	function set(super_fn, key, val) {
		var oldVal = this.get(key)
		super_fn()
		pubsub.fire(key, val, oldVal)
	}
	function remove(super_fn, key) {
		var oldVal = this.get(key)
		super_fn()
		pubsub.fire(key, undefined, oldVal)
	}
	function clearAll(super_fn) {
		var oldVals = {}
		this.each(function(val, key) {
			oldVals[key] = val
		})
		super_fn()
		each(oldVals, function(oldVal, key) {
			pubsub.fire(key, undefined, oldVal)
		})
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.all.expire" id="apidoc.element.store.all.expire">
        function <span class="apidocSignatureSpan">store.all.</span>expire
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function expirePlugin() {
	var expirations = this.namespace(namespace)
	
	return {
		set: expire_set,
		get: expire_get,
		remove: expire_remove
	}
	
	function expire_set(super_fn, key, val, expiration) {
		if (!this.hasNamespace(namespace)) {
			expirations.set(key, expiration)
		}
		return super_fn()
	}
	
	function expire_get(super_fn, key) {
		if (!this.hasNamespace(namespace)) {
			var expiration = expirations.get(key, Number.MAX_VALUE)
			if (expiration &lt;= new Date().getTime()) {
				this.remove(key)
			}
		}
		return super_fn()
	}
	
	function expire_remove(super_fn, key) {
		if (!this.hasNamespace(namespace)) {
			expirations.remove(key)
		}
		return super_fn()
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.all.json2" id="apidoc.element.store.all.json2">
        function <span class="apidocSignatureSpan">store.all.</span>json2
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function json2Plugin() {
	require('./lib/json2')
	return {}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.all.update" id="apidoc.element.store.all.update">
        function <span class="apidocSignatureSpan">store.all.</span>update
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function updatePlugin() {
	return {
		update: update
	}
	
	function update(_, key, optDefaultVal, updateFn) {
		if (arguments.length == 3) {
			updateFn = optDefaultVal
			optDefaultVal = undefined
		}
		var val = this.get(key, optDefaultVal)
		var retVal = updateFn(val)
		this.set(key, retVal != undefined ? retVal : val)
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	function unshift(_, key, val1, val2, val3, etc) {
		return _arrayOp.call(this, 'unshift', arguments)
	}

	// obj
	function assign_(_, key, props1, props2, props3, etc) {
		var varArgs = slice(arguments, 2)
		return this.<span class="apidocCodeKeywordSpan">update</span>(key, {}, function(val) {
			if (typeof val != 'object') {
				throw new Error('store.assign called for non-object value with key "'+key+'"')
			}
			varArgs.unshift(val)
			return assign.apply(Object, varArgs)
		})
	}
...</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.cookieStorage" id="apidoc.module.store.cookieStorage">module store.cookieStorage</a></h1>


    <h2>
        <a href="#apidoc.element.store.cookieStorage.clearAll" id="apidoc.element.store.cookieStorage.clearAll">
        function <span class="apidocSignatureSpan">store.cookieStorage.</span>clearAll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clearAll() {
	each(function(_, key) {
		remove(key)
	})
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Get current user
store.get('user')

// Remove current user
store.remove('user')

// Clear all keys
store.<span class="apidocCodeKeywordSpan">clearAll</span>()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
})
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.cookieStorage.each" id="apidoc.element.store.cookieStorage.each">
        function <span class="apidocSignatureSpan">store.cookieStorage.</span>each
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function each(callback) {
	var cookies = doc.cookie.split(/; ?/g)
	for (var i = cookies.length - 1; i &gt;= 0; i--) {
		if (!trim(cookies[i])) {
			continue
		}
		var kvp = cookies[i].split('=')
		var key = unescape(kvp[0])
		var val = unescape(kvp[1])
		callback(val, key)
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Remove current user
store.remove('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.<span class="apidocCodeKeywordSpan">each</span>(function(value, key) {
	console.log(key, '==', value)
})
```

### Installation

Using npm:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.cookieStorage.read" id="apidoc.element.store.cookieStorage.read">
        function <span class="apidocSignatureSpan">store.cookieStorage.</span>read
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function read(key) {
	if (!key || !_has(key)) { return null }
	var regexpStr = "(?:^|.*;\\s*)" +
		escape(key).replace(/[\-\.\+\*]/g, "\\$&amp;") +
		"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"
	return unescape(doc.cookie.replace(new RegExp(regexpStr), "$1"))
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			self._assignPluginFnProp(pluginFnProp, propName)
		})
	},

	// get returns the value of the given key. If that value
	// is undefined, it returns optionalDefaultValue instead.
	get: function(key, optionalDefaultValue) {
		var data = this._storage().<span class="apidocCodeKeywordSpan">read</span>(this._namespacePrefix + key)
		return this._deserialize(data, optionalDefaultValue)
	},

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.cookieStorage.remove" id="apidoc.element.store.cookieStorage.remove">
        function <span class="apidocSignatureSpan">store.cookieStorage.</span>remove
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(key) {
	if (!key || !_has(key)) {
		return
	}
	doc.cookie = escape(key) + "=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Store current user
store.set('user', { name:'Marcus' })

// Get current user
store.get('user')

// Remove current user
store.<span class="apidocCodeKeywordSpan">remove</span>('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.cookieStorage.write" id="apidoc.element.store.cookieStorage.write">
        function <span class="apidocSignatureSpan">store.cookieStorage.</span>write
        <span class="apidocSignatureSpan">(key, data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(key, data) {
	if(!key) { return }
	doc.cookie = escape(key) + "=" + escape(data) + "; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
			return this.remove(key)
		}
		this._storage().<span class="apidocCodeKeywordSpan">write</span>(this._namespacePrefix + key, this._serialize(value))
		return value
	},

	// remove deletes the key and value stored at the given key.
	remove: function(key) {
		this._storage().remove(this._namespacePrefix + key)
	},
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.localStorage" id="apidoc.module.store.localStorage">module store.localStorage</a></h1>


    <h2>
        <a href="#apidoc.element.store.localStorage.clearAll" id="apidoc.element.store.localStorage.clearAll">
        function <span class="apidocSignatureSpan">store.localStorage.</span>clearAll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clearAll() {
	return localStorage().clear()
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Get current user
store.get('user')

// Remove current user
store.remove('user')

// Clear all keys
store.<span class="apidocCodeKeywordSpan">clearAll</span>()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
})
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.localStorage.each" id="apidoc.element.store.localStorage.each">
        function <span class="apidocSignatureSpan">store.localStorage.</span>each
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function each(fn) {
	for (var i = localStorage().length - 1; i &gt;= 0; i--) {
		var key = localStorage().key(i)
		fn(read(key), key)
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Remove current user
store.remove('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.<span class="apidocCodeKeywordSpan">each</span>(function(value, key) {
	console.log(key, '==', value)
})
```

### Installation

Using npm:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.localStorage.read" id="apidoc.element.store.localStorage.read">
        function <span class="apidocSignatureSpan">store.localStorage.</span>read
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function read(key) {
	return localStorage().getItem(key)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			self._assignPluginFnProp(pluginFnProp, propName)
		})
	},

	// get returns the value of the given key. If that value
	// is undefined, it returns optionalDefaultValue instead.
	get: function(key, optionalDefaultValue) {
		var data = this._storage().<span class="apidocCodeKeywordSpan">read</span>(this._namespacePrefix + key)
		return this._deserialize(data, optionalDefaultValue)
	},

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.localStorage.remove" id="apidoc.element.store.localStorage.remove">
        function <span class="apidocSignatureSpan">store.localStorage.</span>remove
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(key) {
	return localStorage().removeItem(key)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Store current user
store.set('user', { name:'Marcus' })

// Get current user
store.get('user')

// Remove current user
store.<span class="apidocCodeKeywordSpan">remove</span>('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.localStorage.write" id="apidoc.element.store.localStorage.write">
        function <span class="apidocSignatureSpan">store.localStorage.</span>write
        <span class="apidocSignatureSpan">(key, data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(key, data) {
	return localStorage().setItem(key, data)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
			return this.remove(key)
		}
		this._storage().<span class="apidocCodeKeywordSpan">write</span>(this._namespacePrefix + key, this._serialize(value))
		return value
	},

	// remove deletes the key and value stored at the given key.
	remove: function(key) {
		this._storage().remove(this._namespacePrefix + key)
	},
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.memoryStorage" id="apidoc.module.store.memoryStorage">module store.memoryStorage</a></h1>


    <h2>
        <a href="#apidoc.element.store.memoryStorage.clearAll" id="apidoc.element.store.memoryStorage.clearAll">
        function <span class="apidocSignatureSpan">store.memoryStorage.</span>clearAll
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clearAll(key) {
	memoryStorage = {}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Get current user
store.get('user')

// Remove current user
store.remove('user')

// Clear all keys
store.<span class="apidocCodeKeywordSpan">clearAll</span>()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
})
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.memoryStorage.each" id="apidoc.element.store.memoryStorage.each">
        function <span class="apidocSignatureSpan">store.memoryStorage.</span>each
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function each(callback) {
	for (var key in memoryStorage) {
		if (memoryStorage.hasOwnProperty(key)) {
			callback(memoryStorage[key], key)
		}
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Remove current user
store.remove('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.<span class="apidocCodeKeywordSpan">each</span>(function(value, key) {
	console.log(key, '==', value)
})
```

### Installation

Using npm:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.memoryStorage.read" id="apidoc.element.store.memoryStorage.read">
        function <span class="apidocSignatureSpan">store.memoryStorage.</span>read
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function read(key) {
	return memoryStorage[key]
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			self._assignPluginFnProp(pluginFnProp, propName)
		})
	},

	// get returns the value of the given key. If that value
	// is undefined, it returns optionalDefaultValue instead.
	get: function(key, optionalDefaultValue) {
		var data = this._storage().<span class="apidocCodeKeywordSpan">read</span>(this._namespacePrefix + key)
		return this._deserialize(data, optionalDefaultValue)
	},

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.memoryStorage.remove" id="apidoc.element.store.memoryStorage.remove">
        function <span class="apidocSignatureSpan">store.memoryStorage.</span>remove
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(key) {
	delete memoryStorage[key]
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Store current user
store.set('user', { name:'Marcus' })

// Get current user
store.get('user')

// Remove current user
store.<span class="apidocCodeKeywordSpan">remove</span>('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.memoryStorage.write" id="apidoc.element.store.memoryStorage.write">
        function <span class="apidocSignatureSpan">store.memoryStorage.</span>write
        <span class="apidocSignatureSpan">(key, data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(key, data) {
	memoryStorage[key] = data
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
			return this.remove(key)
		}
		this._storage().<span class="apidocCodeKeywordSpan">write</span>(this._namespacePrefix + key, this._serialize(value))
		return value
	},

	// remove deletes the key and value stored at the given key.
	remove: function(key) {
		this._storage().remove(this._namespacePrefix + key)
	},
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.observe" id="apidoc.module.store.observe">module store.observe</a></h1>


    <h2>
        <a href="#apidoc.element.store.observe.0" id="apidoc.element.store.observe.0">
        function <span class="apidocSignatureSpan">store.observe.</span>0
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function eventsPlugin() {
	var pubsub = _newPubSub()

	return {
		watch: watch,
		unwatch: unwatch,
		once: once,

		set: set,
		remove: remove,
		clearAll: clearAll
	}

	// new pubsub functions
	function watch(_, key, listener) {
		return pubsub.on(key, bind(this, listener))
	}
	function unwatch(_, subId) {
		pubsub.off(subId)
	}
	function once(_, key, listener) {
		pubsub.once(key, bind(this, listener))
	}

	// overwrite function to fire when appropriate
	function set(super_fn, key, val) {
		var oldVal = this.get(key)
		super_fn()
		pubsub.fire(key, val, oldVal)
	}
	function remove(super_fn, key) {
		var oldVal = this.get(key)
		super_fn()
		pubsub.fire(key, undefined, oldVal)
	}
	function clearAll(super_fn) {
		var oldVals = {}
		this.each(function(val, key) {
			oldVals[key] = val
		})
		super_fn()
		each(oldVals, function(oldVal, key) {
			pubsub.fire(key, undefined, oldVal)
		})
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.observe.1" id="apidoc.element.store.observe.1">
        function <span class="apidocSignatureSpan">store.observe.</span>1
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function observePlugin() {
	return {
		observe: observe,
		unobserve: unobserve
	}

	function observe(_, key, callback) {
		var subId = this.watch(key, callback)
		callback(this.get(key))
		return subId
	}
	function unobserve(_, subId) {
		this.unwatch(subId)
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.oldFF_globalStorage" id="apidoc.module.store.oldFF_globalStorage">module store.oldFF_globalStorage</a></h1>


    <h2>
        <a href="#apidoc.element.store.oldFF_globalStorage.clearAll" id="apidoc.element.store.oldFF_globalStorage.clearAll">
        function <span class="apidocSignatureSpan">store.oldFF_globalStorage.</span>clearAll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clearAll() {
	each(function(key, _) {
		delete globalStorage[key]
	})
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Get current user
store.get('user')

// Remove current user
store.remove('user')

// Clear all keys
store.<span class="apidocCodeKeywordSpan">clearAll</span>()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
})
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.oldFF_globalStorage.each" id="apidoc.element.store.oldFF_globalStorage.each">
        function <span class="apidocSignatureSpan">store.oldFF_globalStorage.</span>each
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function each(fn) {
	for (var i = globalStorage.length - 1; i &gt;= 0; i--) {
		var key = globalStorage.key(i)
		fn(globalStorage[key], key)
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Remove current user
store.remove('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.<span class="apidocCodeKeywordSpan">each</span>(function(value, key) {
	console.log(key, '==', value)
})
```

### Installation

Using npm:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.oldFF_globalStorage.read" id="apidoc.element.store.oldFF_globalStorage.read">
        function <span class="apidocSignatureSpan">store.oldFF_globalStorage.</span>read
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function read(key) {
	return globalStorage[key]
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			self._assignPluginFnProp(pluginFnProp, propName)
		})
	},

	// get returns the value of the given key. If that value
	// is undefined, it returns optionalDefaultValue instead.
	get: function(key, optionalDefaultValue) {
		var data = this._storage().<span class="apidocCodeKeywordSpan">read</span>(this._namespacePrefix + key)
		return this._deserialize(data, optionalDefaultValue)
	},

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.oldFF_globalStorage.remove" id="apidoc.element.store.oldFF_globalStorage.remove">
        function <span class="apidocSignatureSpan">store.oldFF_globalStorage.</span>remove
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(key) {
	return globalStorage.removeItem(key)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Store current user
store.set('user', { name:'Marcus' })

// Get current user
store.get('user')

// Remove current user
store.<span class="apidocCodeKeywordSpan">remove</span>('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.oldFF_globalStorage.write" id="apidoc.element.store.oldFF_globalStorage.write">
        function <span class="apidocSignatureSpan">store.oldFF_globalStorage.</span>write
        <span class="apidocSignatureSpan">(key, data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(key, data) {
	globalStorage[key] = data
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
			return this.remove(key)
		}
		this._storage().<span class="apidocCodeKeywordSpan">write</span>(this._namespacePrefix + key, this._serialize(value))
		return value
	},

	// remove deletes the key and value stored at the given key.
	remove: function(key) {
		this._storage().remove(this._namespacePrefix + key)
	},
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.oldIE_userDataStorage" id="apidoc.module.store.oldIE_userDataStorage">module store.oldIE_userDataStorage</a></h1>


    <h2>
        <a href="#apidoc.element.store.oldIE_userDataStorage.clearAll" id="apidoc.element.store.oldIE_userDataStorage.clearAll">
        function <span class="apidocSignatureSpan">store.oldIE_userDataStorage.</span>clearAll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clearAll() {
	_withStorageEl(function(storageEl) {
		var attributes = storageEl.XMLDocument.documentElement.attributes
		storageEl.load(storageName)
		for (var i=attributes.length-1; i&gt;=0; i--) {
			storageEl.removeAttribute(attributes[i].name)
		}
		storageEl.save(storageName)
	})
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Get current user
store.get('user')

// Remove current user
store.remove('user')

// Clear all keys
store.<span class="apidocCodeKeywordSpan">clearAll</span>()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
})
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.oldIE_userDataStorage.each" id="apidoc.element.store.oldIE_userDataStorage.each">
        function <span class="apidocSignatureSpan">store.oldIE_userDataStorage.</span>each
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function each(callback) {
	_withStorageEl(function(storageEl) {
		var attributes = storageEl.XMLDocument.documentElement.attributes
		for (var i=attributes.length-1; i&gt;=0; i--) {
			var attr = attributes[i]
			callback(storageEl.getAttribute(attr.name), attr.name)
		}
	})
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Remove current user
store.remove('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.<span class="apidocCodeKeywordSpan">each</span>(function(value, key) {
	console.log(key, '==', value)
})
```

### Installation

Using npm:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.oldIE_userDataStorage.read" id="apidoc.element.store.oldIE_userDataStorage.read">
        function <span class="apidocSignatureSpan">store.oldIE_userDataStorage.</span>read
        <span class="apidocSignatureSpan">(unfixedKey)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function read(unfixedKey) {
	if (disable) { return }
	var fixedKey = fixKey(unfixedKey)
	var res = null
	_withStorageEl(function(storageEl) {
		res = storageEl.getAttribute(fixedKey)
	})
	return res
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			self._assignPluginFnProp(pluginFnProp, propName)
		})
	},

	// get returns the value of the given key. If that value
	// is undefined, it returns optionalDefaultValue instead.
	get: function(key, optionalDefaultValue) {
		var data = this._storage().<span class="apidocCodeKeywordSpan">read</span>(this._namespacePrefix + key)
		return this._deserialize(data, optionalDefaultValue)
	},

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.oldIE_userDataStorage.remove" id="apidoc.element.store.oldIE_userDataStorage.remove">
        function <span class="apidocSignatureSpan">store.oldIE_userDataStorage.</span>remove
        <span class="apidocSignatureSpan">(unfixedKey)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(unfixedKey) {
	var fixedKey = fixKey(unfixedKey)
	_withStorageEl(function(storageEl) {
		storageEl.removeAttribute(fixedKey)
		storageEl.save(storageName)
	})
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Store current user
store.set('user', { name:'Marcus' })

// Get current user
store.get('user')

// Remove current user
store.<span class="apidocCodeKeywordSpan">remove</span>('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.oldIE_userDataStorage.write" id="apidoc.element.store.oldIE_userDataStorage.write">
        function <span class="apidocSignatureSpan">store.oldIE_userDataStorage.</span>write
        <span class="apidocSignatureSpan">(unfixedKey, data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(unfixedKey, data) {
	if (disable) { return }
	var fixedKey = fixKey(unfixedKey)
	_withStorageEl(function(storageEl) {
		storageEl.setAttribute(fixedKey, data)
		storageEl.save(storageName)
	})
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
			return this.remove(key)
		}
		this._storage().<span class="apidocCodeKeywordSpan">write</span>(this._namespacePrefix + key, this._serialize(value))
		return value
	},

	// remove deletes the key and value stored at the given key.
	remove: function(key) {
		this._storage().remove(this._namespacePrefix + key)
	},
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.operations" id="apidoc.module.store.operations">module store.operations</a></h1>


    <h2>
        <a href="#apidoc.element.store.operations.0" id="apidoc.element.store.operations.0">
        function <span class="apidocSignatureSpan">store.operations.</span>0
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function updatePlugin() {
	return {
		update: update
	}
	
	function update(_, key, optDefaultVal, updateFn) {
		if (arguments.length == 3) {
			updateFn = optDefaultVal
			optDefaultVal = undefined
		}
		var val = this.get(key, optDefaultVal)
		var retVal = updateFn(val)
		this.set(key, retVal != undefined ? retVal : val)
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.operations.1" id="apidoc.element.store.operations.1">
        function <span class="apidocSignatureSpan">store.operations.</span>1
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function operationsPlugin() {
	return {
		// array
		push: push,
		pop: pop,
		shift: shift,
		unshift: unshift,

		// obj
		assign: assign_,
	}

	// array
	function push(_, key, val1, val2, val3, etc) {
		return _arrayOp.call(this, 'push', arguments)
	}
	function pop(_, key) {
		return _arrayOp.call(this, 'pop', arguments)
	}
	function shift(_, key) {
		return _arrayOp.call(this, 'shift', arguments)
	}
	function unshift(_, key, val1, val2, val3, etc) {
		return _arrayOp.call(this, 'unshift', arguments)
	}

	// obj
	function assign_(_, key, props1, props2, props3, etc) {
		var varArgs = slice(arguments, 2)
		return this.update(key, {}, function(val) {
			if (typeof val != 'object') {
				throw new Error('store.assign called for non-object value with key "'+key+'"')
			}
			varArgs.unshift(val)
			return assign.apply(Object, varArgs)
		})
	}

	// internal
	///////////
	function _arrayOp(arrayFn, opArgs) {
		var res
		var key = opArgs[1]
		var rest = slice(opArgs, 2)
		this.update(key, [], function(arrVal) {
			res = Array.prototype[arrayFn].apply(arrVal, rest)
		})
		return res
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.sessionStorage" id="apidoc.module.store.sessionStorage">module store.sessionStorage</a></h1>


    <h2>
        <a href="#apidoc.element.store.sessionStorage.clearAll" id="apidoc.element.store.sessionStorage.clearAll">
        function <span class="apidocSignatureSpan">store.sessionStorage.</span>clearAll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clearAll() {
	return sessionStorage().clear()
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Get current user
store.get('user')

// Remove current user
store.remove('user')

// Clear all keys
store.<span class="apidocCodeKeywordSpan">clearAll</span>()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
})
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.sessionStorage.each" id="apidoc.element.store.sessionStorage.each">
        function <span class="apidocSignatureSpan">store.sessionStorage.</span>each
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function each(fn) {
	for (var i = sessionStorage().length - 1; i &gt;= 0; i--) {
		var key = sessionStorage().key(i)
		fn(read(key), key)
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Remove current user
store.remove('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.<span class="apidocCodeKeywordSpan">each</span>(function(value, key) {
	console.log(key, '==', value)
})
```

### Installation

Using npm:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.sessionStorage.read" id="apidoc.element.store.sessionStorage.read">
        function <span class="apidocSignatureSpan">store.sessionStorage.</span>read
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function read(key) {
	return sessionStorage().getItem(key)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			self._assignPluginFnProp(pluginFnProp, propName)
		})
	},

	// get returns the value of the given key. If that value
	// is undefined, it returns optionalDefaultValue instead.
	get: function(key, optionalDefaultValue) {
		var data = this._storage().<span class="apidocCodeKeywordSpan">read</span>(this._namespacePrefix + key)
		return this._deserialize(data, optionalDefaultValue)
	},

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.sessionStorage.remove" id="apidoc.element.store.sessionStorage.remove">
        function <span class="apidocSignatureSpan">store.sessionStorage.</span>remove
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(key) {
	return sessionStorage().removeItem(key)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Store current user
store.set('user', { name:'Marcus' })

// Get current user
store.get('user')

// Remove current user
store.<span class="apidocCodeKeywordSpan">remove</span>('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.each(function(value, key) {
	console.log(key, '==', value)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.sessionStorage.write" id="apidoc.element.store.sessionStorage.write">
        function <span class="apidocSignatureSpan">store.sessionStorage.</span>write
        <span class="apidocSignatureSpan">(key, data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(key, data) {
	return sessionStorage().setItem(key, data)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// set will store the given value at key and returns value.
	// Calling set with value === undefined is equivalent to calling remove.
	set: function(key, value) {
		if (value === undefined) {
			return this.remove(key)
		}
		this._storage().<span class="apidocCodeKeywordSpan">write</span>(this._namespacePrefix + key, this._serialize(value))
		return value
	},

	// remove deletes the key and value stored at the given key.
	remove: function(key) {
		this._storage().remove(this._namespacePrefix + key)
	},
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.store_engine" id="apidoc.module.store.store_engine">module store.store_engine</a></h1>


    <h2>
        <a href="#apidoc.element.store.store_engine.createStore" id="apidoc.element.store.store_engine.createStore">
        function <span class="apidocSignatureSpan">store.store_engine.</span>createStore
        <span class="apidocSignatureSpan">(storages, plugins)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createStore(storages, plugins) {
	var _privateStoreProps = {
		_seenPlugins: [],
		_namespacePrefix: '',
		_namespaceRegexp: null,
		_legalNamespace: /^[a-zA-Z0-9_\-]+$/, // alpha-numeric + underscore and dash

		_storage: function() {
			if (!this.enabled) {
				throw new Error("store.js: No supported storage has been added! "+
					"Add one (e.g store.addStorage(require('store/storages/cookieStorage')) "+
					"or use a build with more built-in storages (e.g "+
					"https://github.com/marcuswestin/store.js/tree/master/dist/store.legacy.min.js)")
			}
			return this._storage.resolved
		},

		_testStorage: function(storage) {
			try {
				var testStr = '__storejs__test__'
				storage.write(testStr, testStr)
				var ok = (storage.read(testStr) === testStr)
				storage.remove(testStr)
				return ok
			} catch(e) {
				return false
			}
		},

		_assignPluginFnProp: function(pluginFnProp, propName) {
			var oldFn = this[propName]
			this[propName] = function pluginFn() {
				var args = slice(arguments, 0)
				var self = this

				// super_fn calls the old function which was overwritten by
				// this mixin.
				function super_fn() {
					if (!oldFn) { return }
					each(arguments, function(arg, i) {
						args[i] = arg
					})
					return oldFn.apply(self, args)
				}

				// Give mixing function access to super_fn by prefixing all mixin function
				// arguments with super_fn.
				var newFnArgs = [super_fn].concat(args)

				return pluginFnProp.apply(self, newFnArgs)
			}
		},

		_serialize: function(obj) {
			return JSON.stringify(obj)
		},

		_deserialize: function(strVal, defaultVal) {
			if (!strVal) { return defaultVal }
			// It is possible that a raw string value has been previously stored
			// in a storage without using store.js, meaning it will be a raw
			// string value instead of a JSON serialized string. By defaulting
			// to the raw string value in case of a JSON parse error, we allow
			// for past stored values to be forwards-compatible with store.js
			var val = ''
			try { val = JSON.parse(strVal) }
			catch(e) { val = strVal }

			return (val !== undefined ? val : defaultVal)
		},
	}

	var store = create(_privateStoreProps, storeAPI)
	each(storages, function(storage) {
		store.addStorage(storage)
	})
	each(plugins, function(plugin) {
		store.addPlugin(plugin)
	})
	return store
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	require('store/storages/localStorage'),
	require('store/storages/cookieStorage')
]
var plugins = [
	require('store/plugins/defaults'),
	require('store/plugins/expire')
]
var store = engine.<span class="apidocCodeKeywordSpan">createStore</span>(storages, plugins)
store.set('foo', 'bar', new Date().getTime() + 3000) // Using expire plugin to expire in 3 seconds
```




Storages
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.util" id="apidoc.module.store.util">module store.util</a></h1>


    <h2>
        <a href="#apidoc.element.store.util.assign" id="apidoc.element.store.util.assign">
        function <span class="apidocSignatureSpan">store.util.</span>assign
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function assign() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.util.bind" id="apidoc.element.store.util.bind">
        function <span class="apidocSignatureSpan">store.util.</span>bind
        <span class="apidocSignatureSpan">(obj, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function bind(obj, fn) {
	return function() {
		return fn.apply(obj, Array.prototype.slice.call(arguments, 0))
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.util.create" id="apidoc.element.store.util.create">
        function <span class="apidocSignatureSpan">store.util.</span>create
        <span class="apidocSignatureSpan">(obj, assignProps1, assignProps2, etc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function create(obj, assignProps1, assignProps2, etc) {
			var assignArgsList = slice(arguments, 1)
			return assign.apply(this, [Object.create(obj)].concat(assignArgsList))
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	}
}

function make_create() {
	if (Object.create) {
		return function create(obj, assignProps1, assignProps2, etc) {
			var assignArgsList = slice(arguments, 1)
			return assign.apply(this, [Object.<span class="apidocCodeKeywordSpan">create</span>(obj)].concat(assignArgsList))
		}
	} else {
		function F() {} // eslint-disable-line no-inner-declarations
		return function create(obj, assignProps1, assignProps2, etc) {
			var assignArgsList = slice(arguments, 1)
			F.prototype = obj
			return assign.apply(this, [new F()].concat(assignArgsList))
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.util.each" id="apidoc.element.store.util.each">
        function <span class="apidocSignatureSpan">store.util.</span>each
        <span class="apidocSignatureSpan">(obj, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function each(obj, fn) {
	pluck(obj, function(key, val) {
		fn(key, val)
		return false
	})
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Remove current user
store.remove('user')

// Clear all keys
store.clearAll()

// Loop over all stored values
store.<span class="apidocCodeKeywordSpan">each</span>(function(value, key) {
	console.log(key, '==', value)
})
```

### Installation

Using npm:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.util.isFunction" id="apidoc.element.store.util.isFunction">
        function <span class="apidocSignatureSpan">store.util.</span>isFunction
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isFunction(val) {
	return val &amp;&amp; {}.toString.call(val) === '[object Function]'
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.util.isList" id="apidoc.element.store.util.isList">
        function <span class="apidocSignatureSpan">store.util.</span>isList
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isList(val) {
	return (val != null &amp;&amp; typeof val != 'function' &amp;&amp; typeof val.length == 'number')
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.util.isObject" id="apidoc.element.store.util.isObject">
        function <span class="apidocSignatureSpan">store.util.</span>isObject
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isObject(val) {
	return val &amp;&amp; {}.toString.call(val) === '[object Object]'
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.util.map" id="apidoc.element.store.util.map">
        function <span class="apidocSignatureSpan">store.util.</span>map
        <span class="apidocSignatureSpan">(obj, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function map(obj, fn) {
	var res = (isList(obj) ? [] : {})
	pluck(obj, function(v, k) {
		res[k] = fn(v, k)
		return false
	})
	return res
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.util.pluck" id="apidoc.element.store.util.pluck">
        function <span class="apidocSignatureSpan">store.util.</span>pluck
        <span class="apidocSignatureSpan">(obj, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pluck(obj, fn) {
	if (isList(obj)) {
		for (var i=0; i&lt;obj.length; i++) {
			if (fn(obj[i], i)) {
				return obj[i]
			}
		}
	} else {
		for (var key in obj) {
			if (obj.hasOwnProperty(key)) {
				if (fn(obj[key], key)) {
					return obj[key]
				}
			}
		}
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.util.slice" id="apidoc.element.store.util.slice">
        function <span class="apidocSignatureSpan">store.util.</span>slice
        <span class="apidocSignatureSpan">(arr, index)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function slice(arr, index) {
	return Array.prototype.slice.call(arr, index || 0)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.util.trim" id="apidoc.element.store.util.trim">
        function <span class="apidocSignatureSpan">store.util.</span>trim
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function trim(str) {
			return String.prototype.trim.call(str)
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.store.v1_backcompat" id="apidoc.module.store.v1_backcompat">module store.v1_backcompat</a></h1>


    <h2>
        <a href="#apidoc.element.store.v1_backcompat.0" id="apidoc.element.store.v1_backcompat.0">
        function <span class="apidocSignatureSpan">store.v1_backcompat.</span>0
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function dumpPlugin() {
	return {
		dump: dump
	}
	
	function dump(_) {
		var res = {}
		this.each(function(val, key) {
			res[key] = val
		})
		return res
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.v1_backcompat.1" id="apidoc.element.store.v1_backcompat.1">
        function <span class="apidocSignatureSpan">store.v1_backcompat.</span>1
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function json2Plugin() {
	require('./lib/json2')
	return {}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.store.v1_backcompat.2" id="apidoc.element.store.v1_backcompat.2">
        function <span class="apidocSignatureSpan">store.v1_backcompat.</span>2
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function v1BackcompatPlugin() {
	this.disabled = !this.enabled
	return {
		has: backcompat_has,
		transact: backcompat_transact,
		clear: backcompat_clear,
		forEach: backcompat_forEach,
		getAll: backcompat_getAll,
		serialize: backcompat_serialize,
		deserialize: backcompat_deserialize,
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>